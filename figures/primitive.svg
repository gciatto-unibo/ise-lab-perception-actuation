<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="319px" preserveAspectRatio="none" style="width:1107px;height:319px;background:#FFFFFF;" version="1.1" viewBox="0 0 1107 319" width="1107px" zoomAndPan="magnify"><defs/><g><!--MD5=[32b1aadfbe1619e4a766be6bc8921f15]
class Solve--><g id="elem_Solve"><rect codeLine="3" fill="#F1F1F1" height="48" id="Solve" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="1029" y="164"/><ellipse cx="1044" cy="180" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1046.0781,181.8125 L1046.4688,182.7969 L1046.0781,182.7969 C1045.625,182.7969 1045.5156,182.8125 1045.3594,182.9219 C1045.1094,183.0781 1044.9531,183.3594 1044.9531,183.6563 C1044.9531,183.9219 1045.0938,184.1719 1045.3125,184.3281 C1045.4531,184.4531 1045.6563,184.5 1046.0781,184.5 L1048.4375,184.5 C1048.7969,184.5 1049.0156,184.4688 1049.1563,184.375 C1049.4063,184.2344 1049.5625,183.9375 1049.5625,183.6563 C1049.5625,183.375 1049.4219,183.125 1049.2031,182.9688 C1049.0313,182.8281 1048.875,182.7969 1048.4063,182.7969 L1045.0156,174.5938 L1041.3438,174.5938 C1040.8906,174.5938 1040.7656,174.6094 1040.6094,174.7031 C1040.3594,174.875 1040.2031,175.1563 1040.2031,175.4375 C1040.2031,175.7188 1040.3438,175.9688 1040.5625,176.1406 C1040.7344,176.25 1040.9063,176.2813 1041.3438,176.2813 L1042.4219,176.2813 L1039.7813,182.7969 C1039.3594,182.7969 1039.2031,182.8125 1039.0469,182.9219 C1038.7969,183.0781 1038.6406,183.3594 1038.6406,183.6563 C1038.6406,184.2188 1039.0156,184.5 1039.7656,184.5 L1042.0313,184.5 C1042.3906,184.5 1042.6094,184.4688 1042.7344,184.375 C1043,184.2344 1043.1406,183.9375 1043.1406,183.6563 C1043.1406,183.375 1043.0156,183.125 1042.7969,182.9531 C1042.625,182.8281 1042.4844,182.7969 1042.0313,182.7969 L1041.6406,182.7969 L1042.0313,181.8125 L1046.0781,181.8125 Z M1045.375,180.1094 L1042.7031,180.1094 L1044.0469,176.8438 L1045.375,180.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="39" x="1058" y="184.8467">Solve</text><line style="stroke:#181818;stroke-width:0.5;" x1="1030" x2="1099" y1="196" y2="196"/><line style="stroke:#181818;stroke-width:0.5;" x1="1030" x2="1099" y1="204" y2="204"/></g><!--MD5=[0851f84a889f989e7bb0bebc385d0f09]
class Request--><g id="elem_Request"><rect codeLine="5" fill="#F1F1F1" height="186.375" id="Request" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="481" x="488" y="10"/><ellipse cx="629.25" cy="26" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M631.5938,21.6719 C630.6563,21.2344 630.0625,21.0938 629.1875,21.0938 C626.5625,21.0938 624.5625,23.1719 624.5625,25.8906 L624.5625,27.0156 C624.5625,29.5938 626.6719,31.4844 629.5625,31.4844 C630.7813,31.4844 631.9375,31.1875 632.6875,30.6406 C633.2656,30.2344 633.5938,29.7813 633.5938,29.3906 C633.5938,28.9375 633.2031,28.5469 632.7344,28.5469 C632.5156,28.5469 632.3125,28.625 632.125,28.8125 C631.6719,29.2969 631.6719,29.2969 631.4844,29.3906 C631.0625,29.6563 630.375,29.7813 629.6094,29.7813 C627.5625,29.7813 626.2656,28.6875 626.2656,26.9844 L626.2656,25.8906 C626.2656,24.1094 627.5156,22.7969 629.25,22.7969 C629.8281,22.7969 630.4375,22.9531 630.9063,23.2031 C631.3906,23.4844 631.5625,23.7031 631.6563,24.1094 C631.7188,24.5156 631.75,24.6406 631.8906,24.7656 C632.0313,24.9063 632.2656,25.0156 632.4844,25.0156 C632.75,25.0156 633.0156,24.875 633.1875,24.6563 C633.2969,24.5 633.3281,24.3125 633.3281,23.8906 L633.3281,22.4688 C633.3281,22.0313 633.3125,21.9063 633.2188,21.75 C633.0625,21.4844 632.7813,21.3438 632.4844,21.3438 C632.1875,21.3438 631.9844,21.4375 631.7656,21.75 L631.5938,21.6719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="649.75" y="30.8467">Request</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="129" x="843" y="7"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="127" x="844" y="19.1387">C : ExecutionContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="489" x2="968" y1="42" y2="42"/><ellipse cx="499" cy="53" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="508" y="58.9951">signature: Signature</text><ellipse cx="499" cy="69.2969" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="508" y="75.292">arguments: List&lt;Term&gt;</text><ellipse cx="499" cy="85.5938" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="508" y="91.5889">context: C</text><line style="stroke:#181818;stroke-width:1.0;" x1="489" x2="968" y1="98.8906" y2="98.8906"/><ellipse cx="499" cy="109.8906" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="508" y="115.8857">replyWith(Solution): Response</text><ellipse cx="499" cy="126.1875" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="508" y="132.1826">replyWith(Solution,</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="228" x="651" y="132.1826">SideEffectsBuilder.() -&gt; Unit</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="879" y="132.1826">): Response</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="489" x2="968" y1="139.4844" y2="139.4844"/><ellipse cx="499" cy="150.4844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="508" y="156.4795">replySuccess(...): Response</text><ellipse cx="499" cy="166.7813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="508" y="172.7764">replyFail(...): Response</text><ellipse cx="499" cy="183.0781" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="508" y="189.0732">replyException(...): Response</text></g><!--MD5=[62ba8ad8b61caf20139235a169a8c31d]
class Response--><g id="elem_Response"><rect codeLine="20" fill="#F1F1F1" height="80.5938" id="Response" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="240" x="608.5" y="231.5"/><ellipse cx="689.25" cy="247.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M691.5938,243.1719 C690.6563,242.7344 690.0625,242.5938 689.1875,242.5938 C686.5625,242.5938 684.5625,244.6719 684.5625,247.3906 L684.5625,248.5156 C684.5625,251.0938 686.6719,252.9844 689.5625,252.9844 C690.7813,252.9844 691.9375,252.6875 692.6875,252.1406 C693.2656,251.7344 693.5938,251.2813 693.5938,250.8906 C693.5938,250.4375 693.2031,250.0469 692.7344,250.0469 C692.5156,250.0469 692.3125,250.125 692.125,250.3125 C691.6719,250.7969 691.6719,250.7969 691.4844,250.8906 C691.0625,251.1563 690.375,251.2813 689.6094,251.2813 C687.5625,251.2813 686.2656,250.1875 686.2656,248.4844 L686.2656,247.3906 C686.2656,245.6094 687.5156,244.2969 689.25,244.2969 C689.8281,244.2969 690.4375,244.4531 690.9063,244.7031 C691.3906,244.9844 691.5625,245.2031 691.6563,245.6094 C691.7188,246.0156 691.75,246.1406 691.8906,246.2656 C692.0313,246.4063 692.2656,246.5156 692.4844,246.5156 C692.75,246.5156 693.0156,246.375 693.1875,246.1563 C693.2969,246 693.3281,245.8125 693.3281,245.3906 L693.3281,243.9688 C693.3281,243.5313 693.3125,243.4063 693.2188,243.25 C693.0625,242.9844 692.7813,242.8438 692.4844,242.8438 C692.1875,242.8438 691.9844,242.9375 691.7656,243.25 L691.5938,243.1719 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="709.75" y="252.3467">Response</text><line style="stroke:#181818;stroke-width:0.5;" x1="609.5" x2="847.5" y1="263.5" y2="263.5"/><ellipse cx="619.5" cy="274.5" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="628.5" y="280.4951">solution: Solution</text><ellipse cx="619.5" cy="290.7969" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="628.5" y="296.792">sideEffects: List&lt;SideEffect&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="609.5" x2="847.5" y1="304.0938" y2="304.0938"/></g><!--MD5=[204a995c784cbe6b3a7450752a2139a2]
class Primitive--><g id="elem_Primitive"><rect codeLine="27" fill="#F1F1F1" height="64.2969" id="Primitive" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="352" x="41" y="156"/><ellipse cx="116.25" cy="172" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M117.2031,168.7813 L118.9219,168.7813 C119.3125,168.7813 119.5,168.75 119.625,168.6719 C119.8906,168.5156 120.0313,168.2344 120.0313,167.9375 C120.0313,167.6719 119.9219,167.4063 119.6875,167.2344 C119.5156,167.125 119.375,167.0938 118.9219,167.0938 L113.7813,167.0938 C113.3438,167.0938 113.2188,167.1094 113.0625,167.2031 C112.8125,167.3594 112.6563,167.6563 112.6563,167.9375 C112.6563,168.2188 112.7969,168.4688 113.0156,168.6406 C113.1719,168.75 113.3594,168.7813 113.7813,168.7813 L115.5,168.7813 L115.5,175.2969 L113.7813,175.2969 C113.3438,175.2969 113.2188,175.3125 113.0625,175.4219 C112.8125,175.5781 112.6563,175.8594 112.6563,176.1563 C112.6563,176.4063 112.7969,176.6719 113.0156,176.8281 C113.1719,176.9531 113.375,177 113.7813,177 L118.9219,177 C119.6719,177 120.0313,176.7188 120.0313,176.1563 C120.0313,175.875 119.9219,175.625 119.6875,175.4531 C119.5156,175.3281 119.375,175.2969 118.9219,175.2969 L117.2031,175.2969 L117.2031,168.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="136.75" y="176.8467">Primitive</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="129" x="267" y="153"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="127" x="268" y="165.1387">C : ExecutionContext</text><line style="stroke:#181818;stroke-width:0.5;" x1="42" x2="392" y1="188" y2="188"/><line style="stroke:#181818;stroke-width:0.5;" x1="42" x2="392" y1="196" y2="196"/><ellipse cx="52" cy="207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="61" y="212.9951">solve(Request&lt;C&gt;) -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="224" y="212.9951">Sequence</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="295" y="212.9951">&lt;Response&gt;</text></g><g id="elem_GMN139571"><path d="M6,95.5 L6,120.6328 A0,0 0 0 0 6,120.6328 L213,120.6328 L217,155.812 L221,120.6328 L428,120.6328 A0,0 0 0 0 428,120.6328 L428,105.5 L418,95.5 L6,95.5 A0,0 0 0 0 6,95.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M418,95.5 L418,105.5 L428,105.5 L418,95.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="401" x="12" y="112.5669">functions accepting 1 request and returning several responses</text></g><!--MD5=[d4cfe5976ab801dd2af2123e70ac96c7]
link Request to Solve--><g id="link_Request_Solve"><path codeLine="18" d="M969.128,163.983 C983.626,167.673 997.218,171.132 1009.32,174.212 " fill="none" id="Request-to-Solve" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1011.13,167.448,1028.78,179.165,1007.67,181.016,1011.13,167.448" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[27e2fe36baf509925f8e9c2d94dc13f2]
link Response to Solve--><g id="link_Response_Solve"><path codeLine="25" d="M848.68,243.0657 C887.121,233.6194 929.895,222.9886 969,213 C982.057,209.665 996.105,205.994 1009.27,202.515 " fill="none" id="Response-to-Solve" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1007.85,195.651,1028.98,197.285,1011.44,209.182,1007.85,195.651" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5a40a362cc4ccf4181f4f6dca942d09b]
reverse link Primitive to Request--><g id="link_Primitive_Request"><path codeLine="31" d="M398.362,157.91 C427.374,153.07 457.798,147.994 487.937,142.966 " fill="none" id="Primitive-backto-Request" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="393.341,158.748,402.8766,161.2122,398.2728,157.9251,401.5599,153.3213,393.341,158.748" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="400.9491" y="169.8938">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="471.9123" y="156.5864">1</text></g><!--MD5=[67e7cbf5f67ad436d15f34be947dbc07]
link Primitive to Response--><g id="link_Primitive_Response"><path codeLine="33" d="M393.341,216.908 C462.356,228.2864 540.011,241.0892 603.08,251.4872 " fill="none" id="Primitive-to-Response" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="608.364,252.3583,600.134,246.9484,603.4305,251.5454,598.8334,254.8419,608.364,252.3583" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="400.9491" y="230.5074">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="591.3795" y="263.6646">N</text></g><!--MD5=[77b520ec0cf9080f35dd5c1fe9b54a86]
@startuml
left to right direction

abstract class Solve 

class Request<C : ExecutionContext> {
    + signature: Signature
    + arguments: List<Term>
    + context: C
    - -
    + replyWith(Solution): Response
    + replyWith(Solution, **SideEffectsBuilder.() -> Unit**): Response
    ..
    + replySuccess(...): Response
    + replyFail(...): Response
    + replyException(...): Response
}

Request - -|> Solve 

class Response {
    + solution: Solution
    + sideEffects: List<SideEffect>
}

Response - -|> Solve 

interface Primitive<C : ExecutionContext> {
  + solve(Request<C>) -> //Sequence//<Response>
}

Primitive "1" <.. "1" Request

Primitive "1" ..> "N" Response

note top of Primitive: functions accepting 1 request and returning several responses
@enduml

PlantUML version 1.2022.3(Tue Mar 29 16:10:57 UTC 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>