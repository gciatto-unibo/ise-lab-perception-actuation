<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="498px" preserveAspectRatio="none" style="width:632px;height:498px;" version="1.1" viewBox="0 0 632 498" width="632px" zoomAndPan="magnify"><defs><filter height="300%" id="f61l4cbglqvpm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[32b1aadfbe1619e4a766be6bc8921f15]
class Solve--><rect codeLine="1" fill="#FEFECE" filter="url(#f61l4cbglqvpm)" height="48" id="Solve" style="stroke:#A80036;stroke-width:1.5;" width="65" x="327.5" y="436"/><ellipse cx="342.5" cy="452" fill="#A9DCDF" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M342.6094,447.3438 L341.4531,452.4219 L343.7813,452.4219 L342.6094,447.3438 Z M341.125,445.1094 L344.1094,445.1094 L347.4688,457.5 L345.0156,457.5 L344.25,454.4375 L340.9688,454.4375 L340.2188,457.5 L337.7813,457.5 L341.125,445.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="33" x="356.5" y="456.1543">Solve</text><line style="stroke:#A80036;stroke-width:1.5;" x1="328.5" x2="391.5" y1="468" y2="468"/><line style="stroke:#A80036;stroke-width:1.5;" x1="328.5" x2="391.5" y1="476" y2="476"/><!--MD5=[0851f84a889f989e7bb0bebc385d0f09]
class Request--><rect codeLine="3" fill="#FEFECE" filter="url(#f61l4cbglqvpm)" height="158.4375" id="Request" style="stroke:#A80036;stroke-width:1.5;" width="384" x="7" y="218"/><ellipse cx="101.25" cy="234" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M104.2188,239.6406 Q103.6406,239.9375 103,240.0781 Q102.3594,240.2344 101.6563,240.2344 Q99.1563,240.2344 97.8281,238.5938 Q96.5156,236.9375 96.5156,233.8125 Q96.5156,230.6875 97.8281,229.0313 Q99.1563,227.375 101.6563,227.375 Q102.3594,227.375 103,227.5313 Q103.6563,227.6875 104.2188,227.9844 L104.2188,230.7031 Q103.5938,230.125 103,229.8594 Q102.4063,229.5781 101.7813,229.5781 Q100.4375,229.5781 99.75,230.6563 Q99.0625,231.7188 99.0625,233.8125 Q99.0625,235.9063 99.75,236.9844 Q100.4375,238.0469 101.7813,238.0469 Q102.4063,238.0469 103,237.7813 Q103.5938,237.5 104.2188,236.9219 L104.2188,239.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="121.75" y="238.1543">Request</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="133" x="261" y="215"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="131" x="262" y="227.1387">C : ExecutionContext</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="390" y1="250" y2="250"/><ellipse cx="18" cy="261" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117" x="27" y="264.2104">signature: Signature</text><ellipse cx="18" cy="273.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="27" y="277.0151">arguments: List&lt;Term&gt;</text><ellipse cx="18" cy="286.6094" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="27" y="289.8198">context: C</text><line style="stroke:#A80036;stroke-width:1.0;" x1="8" x2="390" y1="296.4141" y2="296.4141"/><ellipse cx="18" cy="307.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="169" x="27" y="310.6245">replyWith(Solution): Response</text><ellipse cx="18" cy="320.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="105" x="27" y="323.4292">replyWith(Solution,</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="181" x="136" y="323.4292">SideEffectsBuilder.() -&gt; Unit</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="317" y="323.4292">): Response</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:1.0,2.0;" x1="8" x2="390" y1="330.0234" y2="330.0234"/><ellipse cx="18" cy="341.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="160" x="27" y="344.2339">replySuccess(...): Response</text><ellipse cx="18" cy="353.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="131" x="27" y="357.0386">replyFail(...): Response</text><ellipse cx="18" cy="366.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="27" y="369.8433">replyException(...): Response</text><!--MD5=[62ba8ad8b61caf20139235a169a8c31d]
class Response--><rect codeLine="18" fill="#FEFECE" filter="url(#f61l4cbglqvpm)" height="73.6094" id="Response" style="stroke:#A80036;stroke-width:1.5;" width="192" x="426" y="260"/><ellipse cx="486.75" cy="276" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M489.7188,281.6406 Q489.1406,281.9375 488.5,282.0781 Q487.8594,282.2344 487.1563,282.2344 Q484.6563,282.2344 483.3281,280.5938 Q482.0156,278.9375 482.0156,275.8125 Q482.0156,272.6875 483.3281,271.0313 Q484.6563,269.375 487.1563,269.375 Q487.8594,269.375 488.5,269.5313 Q489.1563,269.6875 489.7188,269.9844 L489.7188,272.7031 Q489.0938,272.125 488.5,271.8594 Q487.9063,271.5781 487.2813,271.5781 Q485.9375,271.5781 485.25,272.6563 Q484.5625,273.7188 484.5625,275.8125 Q484.5625,277.9063 485.25,278.9844 Q485.9375,280.0469 487.2813,280.0469 Q487.9063,280.0469 488.5,279.7813 Q489.0938,279.5 489.7188,278.9219 L489.7188,281.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="62" x="507.25" y="280.1543">Response</text><line style="stroke:#A80036;stroke-width:1.5;" x1="427" x2="617" y1="292" y2="292"/><ellipse cx="437" cy="303" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="99" x="446" y="306.2104">solution: Solution</text><ellipse cx="437" cy="315.8047" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="166" x="446" y="319.0151">sideEffects: List&lt;SideEffect&gt;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="427" x2="617" y1="325.6094" y2="325.6094"/><!--MD5=[204a995c784cbe6b3a7450752a2139a2]
class Primitive--><rect codeLine="25" fill="#FEFECE" filter="url(#f61l4cbglqvpm)" height="66.7422" id="Primitive" style="stroke:#A80036;stroke-width:1.5;" width="303" x="208.5" y="91"/><ellipse cx="255.25" cy="109.9688" fill="#3495EB" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M256.0938,116.7188 L253.6406,116.7188 L253.6406,106.4688 L250.5,106.4688 L250.5,104.3281 L259.2344,104.3281 L259.2344,106.4688 L256.0938,106.4688 L256.0938,116.7188 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="70" x="273.75" y="107.1387">«typealias»</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="51" x="283.25" y="121.1074">Primitive</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="133" x="381.5" y="88"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="131" x="382.5" y="100.1387">C : ExecutionContext</text><line style="stroke:#A80036;stroke-width:1.5;" x1="209.5" x2="510.5" y1="128.9375" y2="128.9375"/><line style="stroke:#A80036;stroke-width:1.5;" x1="209.5" x2="510.5" y1="136.9375" y2="136.9375"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="57" x="214.5" y="151.1479">alias for:</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="275.5" y="151.1479">(Request&lt;C&gt;) -&gt;</text><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacing" textLength="55" x="376.5" y="151.1479">Sequence</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="431.5" y="151.1479">&lt;Response&gt;</text><path d="M150,6 L150,31.1328 A0,0 0 0 0 150,31.1328 L356,31.1328 L360,90.62 L364,31.1328 L570,31.1328 A0,0 0 0 0 570,31.1328 L570,16 L560,6 L150,6 A0,0 0 0 0 150,6 " fill="#FBFB77" filter="url(#f61l4cbglqvpm)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M560,6 L560,16 L570,16 L560,6 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="399" x="156" y="23.0669">functions accepting 1 request and returning several responses</text><!--MD5=[d4cfe5976ab801dd2af2123e70ac96c7]
link Request to Solve--><path codeLine="16" d="M277.14,376.14 C292.98,391.98 308.93,407.93 322.55,421.55 " fill="none" id="Request-to-Solve" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="327.62,416.72,336.81,435.81,317.72,426.62,327.62,416.72" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[27e2fe36baf509925f8e9c2d94dc13f2]
link Response to Solve--><path codeLine="23" d="M485.64,334.13 C459.44,360.17 424.18,395.22 397.68,421.56 " fill="none" id="Response-to-Solve" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="402.34,426.79,383.22,435.92,392.47,416.86,402.34,426.79" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[5a40a362cc4ccf4181f4f6dca942d09b]
reverse link Primitive to Request--><path codeLine="29" d="M325.5,162.03 C310.01,178.44 291.1,198.47 272.67,217.99 " fill="none" id="Primitive-backto-Request" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="328.96,158.37,319.8789,162.1823,325.5332,162.011,325.7045,167.6653,328.96,158.37" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="314.7185" y="177.8407">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="271.0927" y="207.0677">1</text><!--MD5=[67e7cbf5f67ad436d15f34be947dbc07]
link Primitive to Response--><path codeLine="31" d="M391.24,158.37 C417.72,186.25 455.8,226.32 484.04,256.05 " fill="none" id="Primitive-to-Response" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="487.78,259.98,484.4496,250.7113,484.3239,256.3668,478.6684,256.2411,487.78,259.98" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="388.0921" y="177.8407">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="10" x="470.5488" y="248.8868">N</text><!--MD5=[5e5d1de2c26cdf1caab8d11b021100b3]
@startuml
abstract class Solve 

class Request<C : ExecutionContext> {
    + signature: Signature
    + arguments: List<Term>
    + context: C
    - -
    + replyWith(Solution): Response
    + replyWith(Solution, **SideEffectsBuilder.() -> Unit**): Response
    ..
    + replySuccess(...): Response
    + replyFail(...): Response
    + replyException(...): Response
}

Request - -|> Solve 

class Response {
    + solution: Solution
    + sideEffects: List<SideEffect>
}

Response - -|> Solve 

interface Primitive<C : ExecutionContext> << (T,#3495eb) typealias >>  {
  **alias for:** (Request<C>) -> //Sequence//<Response>
}

Primitive "1" <.. "1" Request

Primitive "1" ..> "N" Response

note top of Primitive: functions accepting 1 request and returning several responses
@enduml

PlantUML version 1.2021.00(Sun Jan 10 11:25:05 CET 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: it
Country: IT
--></g></svg>